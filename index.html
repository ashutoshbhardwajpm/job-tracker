<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AI-Powered Job Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 1000px;
            margin: 40px auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        
        input[type="file"],
        select {
            display: block;
            margin: 10px auto;
            padding: 6px;
        }
        
        button {
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            background: #007bff;
            color: #fff;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        #status {
            text-align: center;
            margin-top: 12px;
            color: #666;
        }
        
        .filters {
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }
        
        .filters select {
            margin: 0 5px;
            padding: 6px;
        }
        
        .jobs {
            margin-top: 30px;
        }
        
        .job-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            background: #f8fafc;
        }
        
        .job-title {
            font-weight: bold;
            font-size: 16px;
        }
        
        .company {
            color: #555;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            margin-top: 6px;
        }
        
        .high {
            background: #d4f8d4;
            color: #1f7a1f;
        }
        
        .medium {
            background: #fff3cd;
            color: #856404;
        }
        
        .low {
            background: #e2e3e5;
            color: #555;
        }
        
        .reason {
            font-size: 13px;
            color: #444;
            margin-top: 8px;
        }
        
        #openChat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 18px;
            border-radius: 50px;
            background: #007bff;
            color: #fff;
            cursor: pointer;
        }
        
        .chat-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 10;
        }
        
        .chat-box {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 340px;
            background: #fff;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            padding: 10px;
            background: #007bff;
            color: #fff;
            border-radius: 10px 10px 0 0;
            font-weight: bold;
        }
        
        .chat-messages {
            padding: 10px;
            height: 260px;
            overflow-y: auto;
            font-size: 14px;
        }
        
        .chat-input {
            display: flex;
            border-top: 1px solid #ddd;
        }
        
        .chat-input input {
            flex: 1;
            border: none;
            padding: 10px;
            outline: none;
        }
        
        .chat-input button {
            border: none;
            padding: 10px 15px;
            background: #007bff;
            color: #fff;
            cursor: pointer;
        }
        
        .user {
            margin-bottom: 8px;
        }
        
        .bot {
            margin-bottom: 8px;
            color: #555;
        }
        
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 20;
        }
        
        .popup button {
            margin: 5px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>AI-Powered Job Tracker</h1>
        <input type="file" id="resume">
        <button onclick="uploadResume()">Upload Resume</button>

        <div class="filters">
            <select id="filterType"><option value="">All Roles</option><option value="Frontend">Frontend</option><option value="Product">Product</option><option value="Marketing">Marketing</option></select>
            <select id="filterSkills"><option value="">All Skills</option><option value="React">React</option><option value="Node">Node.js</option><option value="Python">Python</option></select>
            <select id="filterDate"><option value="">Any Time</option><option value="24h">Last 24h</option><option value="7d">Last Week</option><option value="30d">Last Month</option></select>
            <select id="filterTypeJob"><option value="">All Types</option><option value="Full-time">Full-time</option><option value="Part-time">Part-time</option><option value="Contract">Contract</option><option value="Internship">Internship</option></select>
            <select id="filterMode"><option value="">Any Mode</option><option value="Remote">Remote</option><option value="Hybrid">Hybrid</option><option value="On-site">On-site</option></select>
            <select id="filterLocation"><option value="">All Locations</option><option value="NYC">NYC</option><option value="Bangalore">Bangalore</option><option value="London">London</option></select>
            <select id="filterScore"><option value="">All Scores</option><option value="high">High (70%+)</option><option value="medium">Medium (40-70%)</option><option value="low">Low (<40%)</option></select>
        </div>

        <div id="status"></div>
        <div class="jobs" id="jobs">
            <h3>Job Matches</h3>
        </div>
    </div>

    <button id="openChat">AI Chat</button>

    <div class="chat-overlay" id="overlay">
        <div class="chat-box">
            <div class="chat-header">AI Assistant</div>
            <div class="chat-messages" id="msgs">
                <div class="bot">Hi! I can help you filter jobs and explain match scores.</div>
            </div>
            <div class="chat-input"><input id="chatInput" placeholder="Ask something..."><button onclick="sendMsg()">Send</button></div>
        </div>
    </div>

    <div class="popup" id="popup">
        <p id="popupText"></p>
        <button onclick="applyYes()">Yes, Applied</button>
        <button onclick="applyNo()">No, just browsing</button>
        <button onclick="applyEarlier()">Applied Earlier</button>
    </div>

    <script>
        let jobsData = [{
            title: "Frontend Developer",
            company: "TechNova",
            type: "Frontend",
            skills: ["React"],
            mode: "Remote",
            location: "NYC",
            score: 82,
            desc: "JS, React"
        }, {
            title: "Product Ops Associate",
            company: "GrowthLabs",
            type: "Product",
            skills: ["Node"],
            mode: "Hybrid",
            location: "Bangalore",
            score: 64,
            desc: "Coordination"
        }, {
            title: "Marketing Analyst",
            company: "Brandify",
            type: "Marketing",
            skills: ["Python"],
            mode: "On-site",
            location: "London",
            score: 38,
            desc: "Content"
        }, ];

        function uploadResume() {
            const file = document.getElementById("resume").files.length;
            if (!file) {
                document.getElementById("status").innerText = "Please upload resume first.";
                return;
            }
            document.getElementById("status").innerText = "Resume uploaded. Matching jobs...";
            setTimeout(renderJobs, 500);
        }

        function renderJobs() {
            const container = document.getElementById("jobs");
            container.innerHTML = "<h3>Job Matches</h3>";
            let filtered = jobsData.filter(job => {
                let ft = document.getElementById("filterType").value;
                let fs = document.getElementById("filterSkills").value;
                let fd = document.getElementById("filterDate").value;
                let fj = document.getElementById("filterTypeJob").value;
                let fm = document.getElementById("filterMode").value;
                let fl = document.getElementById("filterLocation").value;
                let fscore = document.getElementById("filterScore").value;
                if (ft && job.type != ft) return false;
                if (fs && !job.skills.includes(fs)) return false;
                if (fj && job.type != fj) return false;
                if (fm && job.mode != fm) return false;
                if (fl && job.location != fl) return false;
                if (fscore === "high" && job.score < 70) return false;
                if (fscore === "medium" && (job.score < 40 || job.score > 70)) return false;
                if (fscore === "low" && job.score >= 40) return false;
                return true;
            });
            filtered.forEach(job => {
                let div = document.createElement("div");
                div.className = "job-card";
                div.innerHTML = `<div class="job-title">${job.title}</div>
    <div class="company">${job.company} â€¢ ${job.location}</div>
    <div class="badge ${job.score>70?'high':job.score>40?'medium':'low'}">Match Score: ${job.score}%</div>
    <div class="reason">${job.desc}</div>
    <button onclick="showPopup('${job.title}','${job.company}')">Apply</button>`;
                container.appendChild(div);
            });
        }

        function showPopup(title, company) {
            document.getElementById("popupText").innerText = `Did you apply to ${title} at ${company}?`;
            document.getElementById("popup").style.display = "block";
        }

        function applyYes() {
            alert("Saved as Applied");
            document.getElementById("popup").style.display = "none";
        }

        function applyNo() {
            alert("Browsing");
            document.getElementById("popup").style.display = "none";
        }

        function applyEarlier() {
            alert("Previously Applied");
            document.getElementById("popup").style.display = "none";
        }

        const openChat = document.getElementById("openChat");
        const overlay = document.getElementById("overlay");
        openChat.onclick = () => overlay.style.display = "block";
        overlay.onclick = e => {
            if (e.target === overlay) overlay.style.display = "none";
        }
        document.addEventListener("keydown", e => {
            if (e.key === "Escape") overlay.style.display = "none";
            if (e.key === "Enter" && document.activeElement.id === "chatInput") sendMsg();
        });

        function sendMsg() {
            const input = document.getElementById("chatInput");
            const text = input.value.trim();
            if (!text) return;
            document.getElementById("msgs").innerHTML += `<div class="user">You: ${text}</div>`;
            input.value = "";
            setTimeout(() => {
                document.getElementById("msgs").innerHTML += `<div class="bot">Assistant: Jobs are scored based on skills and role match. Use filters to refine.</div>`;
            }, 400);
        }
    </script>

</body>

</html>